(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,t,n){e.exports={container:"Arena_container__3QaEn","grid-container":"Arena_grid-container__2CuNE","bot-container":"Arena_bot-container__3jPmg",row:"Arena_row__2GT_G",cell:"Arena_cell__3IGxU","bot-label":"Arena_bot-label__6UTu6","bot-image":"Arena_bot-image__B36Pk"}},function(e,t,n){e.exports={inner_wrapper:"LeaderBoard_inner_wrapper__13agL",container__title:"LeaderBoard_container__title__eQbR-",container:"LeaderBoard_container__1pMd5",container__headings:"LeaderBoard_container__headings__3-zTC",wrapper:"LeaderBoard_wrapper__2c3Rc"}},function(e,t,n){e.exports={wrapper:"BotStatistics_wrapper__1AuxR",container:"BotStatistics_container__3Qnbf",container__segment:"BotStatistics_container__segment__E_fXP"}},function(e,t,n){e.exports={dropbtn:"Dropdown_dropbtn__DBJCv",dropdown:"Dropdown_dropdown__CvICm",dropdownContent:"Dropdown_dropdownContent__5t1pg"}},function(e,t,n){e.exports={wrapper:"BattleLog_wrapper__1ogDa",title:"BattleLog_title__1xd8M",logs:"BattleLog_logs__3GsTj",container:"BattleLog_container__3gm-0",status_txt:"BattleLog_status_txt__3D2Yz",computations_txt:"BattleLog_computations_txt__3S-Ju",wrapper_main:"BattleLog_wrapper_main__1zB1u"}},,function(e,t,n){e.exports={wrapper:"UserSelection_wrapper__3UR_W",container:"UserSelection_container__2gIJp",dropdownContainer:"UserSelection_dropdownContainer__1mwRN"}},function(e,t,n){e.exports={wrapper:"OpaqueBackground_wrapper__u_u9B",container:"OpaqueBackground_container__202X1"}},function(e,t,n){e.exports={label:"Input_label__2YAaw",input:"Input_input__2JPPK"}},function(e,t,n){e.exports={label:"Slider_label__3QLkO"}},function(e,t,n){e.exports={container:"Button_container__3tkIp",text:"Button_text__3evgY"}},function(e,t,n){e.exports={icon:"GitIcon_icon__TwjYo",container:"GitIcon_container__2bBY9"}},,,,function(e,t,n){e.exports=n.p+"static/media/bot-1.1c235c9c.png"},function(e,t,n){e.exports=n.p+"static/media/bot-2.ae5aa138.png"},function(e,t,n){e.exports=n.p+"static/media/bot-3.5e66f967.png"},function(e,t,n){e.exports=n.p+"static/media/bot-4.2d932671.png"},function(e,t,n){e.exports=n.p+"static/media/bot-5.cfac91dc.png"},function(e,t,n){e.exports=n.p+"static/media/bot-6.56fbabae.png"},function(e,t,n){e.exports=n.p+"static/media/bot-7.b0922141.png"},function(e,t,n){e.exports=n.p+"static/media/bot-8.9820ef3e.png"},function(e,t,n){e.exports=n.p+"static/media/bot-9.bbff64ae.png"},function(e,t,n){e.exports=n.p+"static/media/bot-10.92b6cdea.png"},function(e,t,n){e.exports=n.p+"static/media/bot-11.1e0e5789.png"},,function(e,t,n){e.exports={"app-container":"App_app-container__nukex"}},,,function(e,t,n){e.exports={wrapper:"UserConfigBox_wrapper__1K8nA"}},function(e,t,n){e.exports=n(47)},,,,,,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(30),c=n.n(o),i=(n(44),n(31)),s=n.n(i),u=n(2),l=n(1),m=Object(a.createContext)(),d=function(e){var t=e.children,n=Object(a.useState)(!1),o=Object(l.a)(n,2),c=o[0],i=o[1],s=Object(a.useState)([]),d=Object(l.a)(s,2),p=d[0],f=d[1],b=Object(a.useState)([]),_=Object(l.a)(b,2),h=_[0],v=_[1],g=Object(a.useState)(!1),E=Object(l.a)(g,2),w=E[0],O=E[1],j={gameState:c,setGameState:i,bots:p,setBots:f,logsBots:h,setLogBots:v,addBot:function(e){var t=p.findIndex(function(t){return t.formId===e.formId});f(-1!==t?function(n){var a=Object(u.a)(n);return a[t]=e,a}:function(t){return[].concat(Object(u.a)(t),[e])})},removeBot:function(e){f(function(t){return t.filter(function(t){return t.id!==e})})},checkOutcome:function(e,t){var n=e.coordinates,a=n.rowIndex,r=n.columnIndex,o=t.coordinates,c=o.rowIndex,i=o.columnIndex;if(a===c&&r===i){var s=Math.min(e.timestamp,t.timestamp),u=e.timestamp===s?e:t,l=e.timestamp===s?t:e;return("AND"===u.operator?u.binaryValue&&l.binaryValue:"OR"===u.operator?u.binaryValue||l.binaryValue:"NOR"===u.operator?!u.binaryValue&&!l.binaryValue:"XOR"===u.operator&&u.binaryValue!==l.binaryValue)?u.id:"tie"}return null},pause:w,setPause:O};return r.a.createElement(m.Provider,{value:j},t)},p=n(9),f=n(3),b=n(4),_=n.n(b);var h=function(){var e=Object(a.useContext)(m),t=e.bots,n=e.setBots,o=e.gameState,c=e.setGameState,i=e.checkOutcome,s=e.setLogBots,d=e.setPause,b=e.pause,h=Object(a.useState)([]),v=Object(l.a)(h,2),g=v[0],E=v[1],w=Object(a.useRef)([]),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=Array.from({length:8},function(){return Array.from({length:8},function(){return null})});e.forEach(function(e){var t=e.coordinates,a=t.rowIndex,o=t.columnIndex;n[a][o]=r.a.createElement("div",{className:_.a["bot-container"]},r.a.createElement("p",{className:_.a["bot-label"],style:{backgroundColor:e.labelColor}},e.name),r.a.createElement("img",{src:e.image,alt:e.name,className:_.a["bot-image"]}))}),E(n)};return Object(a.useEffect)(function(){O(t);var e=function(e){var t=setInterval(function(){setTimeout(function(){return function(e){n(function(t){var n=t.map(function(t){if(t.id===e.id){var n=t.coordinates,a=n.rowIndex,r=n.columnIndex,o=Date.now(),c=a,i=r;switch(e.direction){case"North":c=a-1;break;case"South":c=a+1;break;case"East":i=r+1;break;case"West":i=r-1}if(c>=0&&c<8&&i>=0&&i<8){var l={rowIndex:c,columnIndex:i};return Object(p.a)({},t,{coordinates:l})}var m=["North","South","East","West"];switch("".concat(c,",").concat(i)){case"0,7":m=["South","West"];break;case"0,0":m=["South","East"];break;case"7,7":m=["North","West"];break;case"7,0":m=["North","East"]}var d=m.filter(function(t){return t!==e.direction}),b=d[Math.floor(Math.random()*d.length)],_=Math.round(Math.random()),h=Object(p.a)({},t,{direction:b,timestamp:o,movementId:Object(f.v4)(),binaryValue:_,gameStatus:"wall"});return s(function(e){return[].concat(Object(u.a)(e),[h])}),h}return t}),a=i(n[0],n[1]),r=Date.now();if("tie"===a){var l=n.map(function(e){var t=Object(p.a)({},e,{gameStatus:"tie",movementId:Object(f.v4)()});return s(function(e){return[].concat(Object(u.a)(e),[t])}),t});return O(l),l}if(a){c(!o);var m=n.map(function(t){return t.id===e.id?Object(p.a)({},t,{timestamp:r,gameStatus:"winner",movementId:Object(f.v4)(),wins:t.wins+1}):Object(p.a)({},t,{timestamp:r,gameStatus:"loser",movementId:Object(f.v4)(),losses:t.losses+1})});return s(function(e){return[].concat(Object(u.a)(e),Object(u.a)(m))}),m}return O(n),n})}(e)},500)},700-2*e.speed);w.current.push(t)},a=function(){w.current.forEach(function(e){clearInterval(e)}),w.current=[]};return o?t.forEach(function(t){e(t)}):a(),a},[o,t]),Object(a.useEffect)(function(){!o&&t.some(function(e){return"winner"===e.gameStatus})&&(O([]),w.current.forEach(function(e){clearInterval(e)}),w.current=[],n([]))},[o]),Object(a.useEffect)(function(){o&&t.every(function(e){return"winner"!==e.gameStatus})?(d(!0),console.log(b)):!o&&t.some(function(e){return"winner"===e.gameStatus})&&(d(!1),console.log(b))},[o]),Object(a.useEffect)(function(){o||s(function(e){return[].concat(Object(u.a)(e),Object(u.a)(t))})},[o]),r.a.createElement("div",{className:_.a.container},r.a.createElement("div",{className:_.a["grid-container"]},g.map(function(e,t){return r.a.createElement("div",{key:t,className:_.a.row},e.map(function(e,t){return r.a.createElement("div",{key:t,className:_.a.cell},e)}))})))},v=n(5),g=n.n(v),E=n(6),w=n.n(E),O=function(e){var t=e.bots,n=Object(u.a)(t).sort(function(e,t){return t.wins-e.wins});return r.a.createElement("div",{className:w.a.wrapper,"data-testid":"bot-statistics"},n.map(function(e,t){return r.a.createElement("div",{key:t,className:w.a.container,"data-testid":"bot-item"},r.a.createElement("p",{className:w.a.container__segment},e.name),r.a.createElement("p",{className:w.a.container__segment},e.wins),r.a.createElement("p",{className:w.a.container__segment},e.losses))}))},j=n(11),x=n.n(j),N=function(e){var t=e.children,n=e.style;return r.a.createElement("div",{className:x.a.wrapper,style:n,"data-testid":"opaque-background-wrapper"},r.a.createElement("div",{className:x.a.container,"data-testid":"opaque-background-container"},t))},I=function(){var e=Object(a.useContext)(m).bots,t=Object(a.useState)([]),n=Object(l.a)(t,2),o=n[0],c=n[1];Object(a.useEffect)(function(){console.log(o)},[o]);return Object(a.useEffect)(function(){e.forEach(function(e){if(0===o.length)c(function(t){return[].concat(Object(u.a)(t),[e])});else{var t=o.findIndex(function(t){return t.name===e.name});if(-1!==t){console.log("bot already exists at index ".concat(t));var n={name:e.name,wins:e.wins+o[t].wins,losses:e.losses+o[t].losses};c(function(e){return[].concat(Object(u.a)(e.slice(0,t)),[n],Object(u.a)(e.slice(t+1)))})}else c(function(t){return[].concat(Object(u.a)(t),[e])})}})},[e]),r.a.createElement("div",{className:g.a.wrapper},r.a.createElement(N,null,r.a.createElement("div",{className:g.a.inner_wrapper},r.a.createElement("h3",{className:g.a.container__title},"Leaders"),r.a.createElement("div",{className:g.a.container},r.a.createElement("div",{className:g.a.container__headings},r.a.createElement("h4",null,"User"),r.a.createElement("h4",null,"Wins"),r.a.createElement("h4",null,"Losses")),r.a.createElement(O,{bots:o})))))},y=n(10),S=n.n(y),k=n(12),C=n.n(k),B=function(e){var t=e.label,n=e.value,o=e.onChange,c=e.setMatchFound,i=Object(a.useContext)(m).bots;return Object(a.useEffect)(function(){var e=i.map(function(e){return e.name}).filter(function(e){return e===n}).length;c(e>1)},[n,i]),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"input",className:C.a.label},t),r.a.createElement("input",{className:C.a.input,name:"input",type:"text",value:n,onChange:function(e){o(e.target.value)},required:!0}))},L=n(13),V=n.n(L),M=function(e){var t=e.label,n=e.value,a=e.onChange,o=function(e){a&&(a(e.target.value),console.log(e.target.value))};return r.a.createElement("div",{className:"range-slider"},r.a.createElement("p",{className:V.a.label},t),r.a.createElement("input",{type:"range",min:"0",max:"100",value:n,onChange:function(e){return o(e)},className:V.a}))},A=n(7),D=n.n(A),F=["Option 1","Option 2","Option 3"],R=function(e){var t=e.label,n=e.options,o=void 0===n?F:n,c=e.value,i=e.onChange,s=Object(a.useState)(c),u=Object(l.a)(s,2),m=u[0],d=u[1];return r.a.createElement("div",{className:D.a.dropdown},r.a.createElement("div",{className:D.a.downArrow},r.a.createElement("button",{className:D.a.dropbtn},null!==m&&void 0!==m?m:t,r.a.createElement("img",{className:D.a.image,src:"./DownArrow.png"}))),r.a.createElement("div",{className:D.a.dropdownContent},o.map(function(e){return r.a.createElement("a",{key:e,onClick:function(){return function(e){d(e),i(e)}(e)}},e)})))},T=function(e){var t=e.formId,n=e.setNewBots,o=e.setMatchFound,c=e.matchFound,i=Object(a.useState)(""),s=Object(l.a)(i,2),m=s[0],d=s[1],p=Object(a.useState)(50),f=Object(l.a)(p,2),b=f[0],_=f[1],h=Object(a.useState)(null),v=Object(l.a)(h,2),g=v[0],E=v[1],w=Object(a.useState)(null),O=Object(l.a)(w,2),j=O[0],x=O[1],N=Object(a.useState)(null),I=Object(l.a)(N,2),y=I[0],k=I[1],C=Object(a.useState)(!1),L=Object(l.a)(C,2),V=L[0],A=L[1];return Object(a.useEffect)(function(){A(!!(m&&b&&null!==g&&j&&y))},[m,b,g,j,y]),Object(a.useEffect)(function(){if(V){var e={name:m,speed:b,value:g,direction:j,operation:y,formId:t};n(function(t){var n=t.map(function(t){return t.formId===e.formId?e:t});return n.some(function(t){return t.formId===e.formId})?n:[].concat(Object(u.a)(n),[e])})}},[V,b,j,y,g,m]),r.a.createElement("div",{className:S.a.wrapper},r.a.createElement("div",{className:S.a.container},r.a.createElement("div",null,r.a.createElement(B,{label:"Name",value:m,onChange:d,setMatchFound:o,matchFound:c}),r.a.createElement(M,{label:"Speed",value:b,onChange:_})),r.a.createElement("div",{className:S.a.dropdownContainer},r.a.createElement(R,{label:"Value",options:[0,1],value:g,onChange:E}),r.a.createElement(R,{label:"Direction",options:["North","South","East","West"],value:j,onChange:x}),r.a.createElement(R,{label:"Operation",options:["AND","OR","NOR","XOR"],value:y,onChange:k}))))},P=n(14),G=n.n(P),W=function(e){var t=e.onClick,n=e.width,o=e.height,c=e.fontSize,i=e.checkIsReady,s=Object(a.useContext)(m),u=s.gameState,l=s.setGameState;return r.a.createElement("div",{className:G.a.container,style:{width:n,height:o},onClick:function(){i()?l(!u):console.log("not ready"),t&&t()}},r.a.createElement("p",{className:G.a.text,style:{fontSize:c}},u?"STOP":"BATTLE!"))},U=n(32),J=n(33),q=function(){function e(t,n,a,r,o,c,i,s){var u=this;Object(U.a)(this,e),this.updateWins=function(){u.wins++},this.updateLosses=function(){u.losses++},this.setGameStatus=function(e){u.gameStatus=e},this.id=Object(f.v4)(),this.name=t,this.image=n,this.labelColor=this.setLabelColor(),this.binaryValue=a,this.operator=r,this.direction=c,this.coordinates=this.setCoordinates(),this.timestamp=Date.now(),this.speed=o,this.wins=0,this.losses=0,this.gameStatus=i,this.formId=s,this.movementId=Object(f.v4)()}return Object(J.a)(e,[{key:"setName",value:function(e){this.name=e}},{key:"setFormId",value:function(e){this.formId=e}},{key:"setImage",value:function(e){this.image=e}},{key:"setLabelColor",value:function(){var e=Math.floor(256*Math.random()),t=Math.floor(256*Math.random()),n=Math.floor(256*Math.random());return"rgba(".concat(e,", ").concat(t,", ").concat(n,", 0.5)")}},{key:"setBinaryValue",value:function(e){this.binaryValue=e}},{key:"setOperator",value:function(e){this.operator=e}},{key:"setDirection",value:function(e){this.direction=e}},{key:"setCoordinates",value:function(){this.coordinates={North:{rowIndex:7,columnIndex:3},South:{rowIndex:0,columnIndex:3},East:{rowIndex:3,columnIndex:0},West:{rowIndex:3,columnIndex:7}}[this.direction]}},{key:"updateTimestamp",value:function(){this.timestamp=Date.now()}},{key:"setSpeed",value:function(e){this.speed=e}},{key:"getBinaryValue",value:function(){return this.binaryValue}},{key:"getOperator",value:function(){return this.operator}},{key:"getCoordinates",value:function(){return this.coordinates}},{key:"getTimestap",value:function(){return this.timestap}},{key:"getSpeed",value:function(){return this.speed}},{key:"getWinCount",value:function(){return this.wins}},{key:"getLossCount",value:function(){return this.losses}}]),e}(),z=n(34),Y=n.n(z),Q=n(19),X=n.n(Q),H=n(20),K=n.n(H),Z=n(21),$=n.n(Z),ee=n(22),te=n.n(ee),ne=n(23),ae=n.n(ne),re=n(24),oe=n.n(re),ce=n(25),ie=n.n(ce),se=n(26),ue=n.n(se),le=n(27),me=n.n(le),de=n(28),pe=n.n(de),fe=n(29),be=n.n(fe),_e=[X.a,K.a,$.a,te.a,ae.a,oe.a,ie.a,ue.a,me.a,pe.a,be.a],he=function(){var e=Object(a.useContext)(m),t=e.addBot,n=e.pause,o=Object(a.useContext)(m).gameState,c=Object(a.useState)(!1),i=Object(l.a)(c,2),s=i[0],u=i[1],d=Object(a.useState)([]),p=Object(l.a)(d,2),f=p[0],b=p[1];return Object(a.useEffect)(function(){!0===o&&!1===n&&f.forEach(function(e){var n=new q;n.setName(e.name),n.setFormId(e.formId),n.setImage(function(){var e=Math.floor(Math.random()*_e.length);return _e[e]}()),n.setSpeed(Number(e.speed)),n.setBinaryValue(e.value),n.setDirection(e.direction),n.setCoordinates(),n.setOperator(e.operation),t(n)})},[o]),r.a.createElement("div",{className:Y.a.wrapper},r.a.createElement(N,null,r.a.createElement(T,{formId:1,newBots:f,setNewBots:b,setMatchFound:u,matchFound:s}),r.a.createElement(T,{formId:2,newBots:f,setNewBots:b,setMatchFound:u,matchFound:s}),r.a.createElement(W,{checkIsReady:function(){return f.length>1?!f.some(function(e,t){return-1!==f.findIndex(function(n,a){return e.name===n.name&&t!==a})})||(alert("Duplicate bot names found!"),!1):1!=f.length&&void 0}})))},ve=n(8),ge=n.n(ve);var Ee=function(){var e=Object(a.useContext)(m).logsBots,t=Object(a.useRef)(null);return Object(a.useEffect)(function(){t.current&&(t.current.scrollTop=t.current.scrollHeight-t.current.clientHeight)},[e.length]),window.matchMedia("(max-width: 768px)").matches?null:r.a.createElement("div",{className:ge.a.wrapper},r.a.createElement("div",{className:ge.a.title},r.a.createElement("p",null,"Battle Log")),r.a.createElement("div",{className:ge.a.logs,ref:t},function(){if(Array.isArray(e)){var t=[],n=e.filter(function(e){return!t.some(function(t){return t.movementId===e.movementId})&&(t.push(e),!0)}).map(function(e,t){var n="",a="";return"winner"===e.gameStatus?(n="".concat(e.name," wins!"),a="Operator: ".concat(e.operator," & Value: ").concat(e.binaryValue)):"loser"===e.gameStatus?(n="".concat(e.name," loses!"),a="Operator: ".concat(e.operator," & Value: ").concat(e.binaryValue)):"wall"===e.gameStatus?(n="".concat(e.name," crashed into that wall!"),a="New Direction: ".concat(e.direction," & New Value: ").concat(e.binaryValue)):"tie"===e.gameStatus&&(n="".concat(e.name," tied!"),a="Operator: ".concat(e.operator," & Value: ").concat(e.binaryValue)),r.a.createElement("p",{key:t,className:ge.a.status_txt},r.a.createElement("p",null,n),r.a.createElement("p",null,a),r.a.createElement("p",null))});return r.a.createElement("div",{className:ge.a.container},n)}return null}()))},we=n(15),Oe=n.n(we),je=function(){return r.a.createElement("div",{className:Oe.a.container},r.a.createElement("a",{href:"https://github.com/chingu-voyages/v44-tier2-team-20",target:"_blank",rel:"noreferrer"},r.a.createElement("div",{className:Oe.a.icon})))};var xe=function(){return r.a.createElement("div",{className:s.a["app-container"]},r.a.createElement(d,null,r.a.createElement(h,null),r.a.createElement(je,null),r.a.createElement(I,null),r.a.createElement(he,null),r.a.createElement(Ee,null)))},Ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then(function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(xe,null))),Ne()}],[[35,1,2]]]);
//# sourceMappingURL=main.9421c63a.chunk.js.map